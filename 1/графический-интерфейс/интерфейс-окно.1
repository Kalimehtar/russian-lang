#!1
используется класс графический-интерфейс/интерфейс-область
предоставлять окно<%>
предоставлять-для-синтаксиса события-окна методы-окна инициализация-окна \
  внутренняя-инициализация-окна дополнительная-инициализация-окна \
  дополнительная-внутренняя-инициализация-окна

окно<%> = интерфейс (область<%>) принимать-файлы окно->экран экран->окно включить сфокусировать \
  размеры указатель курсор высота заголовок ширина внутренние-размеры показать лево верх \
  есть-фокус? включено? показано? при-получении-файла при-изменении-фокуса при-перемещении \
  при-изменении-размера при-получении-элементом-клавиши при-получении-элементом-события \
  при-изменении-фокуса-элемента при-активации-содержащего-окна при-включении-содержащего-окна \
  при-показывании-содержащего-окна обновить переместить-курсор контекстное-меню \
  режим-колеса-мыши

при-компиляции
  события-окна = '
    on-drop-file путь = получатель-событий{при-получении-файла путь}
    on-focus есть-фокус? = получатель-событий{при-изменении-фокуса есть-фокус?}
    on-move лево верх = получатель-событий{при-перемещении лево верх}
    on-size ширина высота = получатель-событий{при-изменении-размера ширина высота}
    on-subwindow-char элемент событие =
      получатель-событий{при-получении-элементом-клавиши объект-адины(элемент) событие}
    on-subwindow-event элемент событие =
      получатель-событий{при-получении-элементом-события объект-адины(элемент) событие}
    on-subwindow-focus элемент есть-фокус? =
      получатель-событий{при-изменении-фокуса-элемента объект-адины(элемент) есть-фокус?}
    on-superwindow-activate активно? = получатель-событий{при-активации-содержащего-окна активно?}
    on-superwindow-enable включено? = получатель-событий{при-включении-содержащего-окна включено?}
    on-superwindow-show показано? = получатель-событий{при-показывании-содержащего-окна показано?}
  методы-окна = методы-области ++ '
    заголовок = функция-выбора
      () $внутренний{get-label}
      (новое-значение) $внутренний{set-label новое-значение}
    ширина() = $внутренний{get-width}
    высота() = $внутренний{get-height}
    показать состояние = $внутренний{show состояние}
    включить состояние = $внутренний{enable состояние}
    указатель() = $внутренний{get-handle}
    курсор = функция-выбора
      () $внутренний{get-cursor}
      (новое-значение) $внутренний{set-cursor новое-значение}
    принимать-файлы = метод-выбора($внутренний accept-drop-files)
    окно->экран лево верх = $внутренний{client->screen лево верх}
    экран->окно лево верх = $внутренний{screen->screen лево верх}
    лево() = $внутренний{get-x}
    верх() = $внутренний{get-y}
    обновить() = $внутренний{refresh}
    есть-фокус?() = $внутренний{has-focus?}
    включено?() = $внутренний{is-enabled?}
    показано?() = $внутренний{is-shown?}
    внутренние-размеры() = $внутренний{get-client-size}
    размеры() = $внутренний{get-size}
    сфокусировать() = $внутренний{focus}
    переместить-курсор лево верх = $внутренний{warp-pointer лево верх}
    контекстное-меню меню лево верх = $внутренний{popup-menu лево верх}
    режим-колеса-мыши = функция-выбора
      ()
        выбор $внутренний{wheel-event-mode}
          (one) 'по-одному
          (integer) 'по-целым
          (fraction) 'сразу
      (новое-значение)
        новое-значение* = выбор новое-значение
          (по-одному) 'one
          (по-целым) 'integer
          (сразу) 'fraction
        $внутренний{wheel-event-mode новое-значение*}
    -- события окно<%>
    при-получении-файла путь = пусто
    при-изменении-фокуса есть-фокус? = пусто
    при-перемещении лево верх = пусто
    при-изменении-размера ширина высота = пусто
    при-получении-элементом-клавиши элемент событие = ложь
    при-получении-элементом-события элемент событие = ложь
    при-изменении-фокуса-элемента элемент есть-фокус? = пусто
    при-активации-содержащего-окна активно? = пусто
    при-включении-содержащего-окна включено? = пусто
    при-показывании-содержащего-окна показано? = пусто
  дополнительная-инициализация-окна = '
      $ $включен(включен) истина
  инициализация-окна необязательный-родитель(ложь) =
    инициализация-области необязательный-родитель ++ дополнительная-инициализация-окна
  дополнительная-внутренняя-инициализация-окна = '
      $ enabled $включен
  внутренняя-инициализация-окна необязательный-родитель(ложь) =
    внутренняя-инициализация-области необязательный-родитель ++
      дополнительная-внутренняя-инициализация-окна

#!1
используется класс
  с-префиксом rkt: racket/gui
предоставлять главное-окно% текстовое-поле% объект

область<%> = интерфейс () родитель главное-окно минимальная-ширина минимальная-высота \
    минимальные-размеры-вывода растягивается-ширина растягивается-высота

окно<%> = интерфейс (область<%>) принимать-файлы окно->экран включить сфокусировать размеры \
    указатель курсор высота заголовок ширина внутренние-размеры показать лево верх

главное-окно<%> = интерфейс ()

определение-синтаксического-правила метод-выбора($внутренний имя)
  функция-выбора
    () $внутренний{имя}
    (новое-значение) $внутренний{имя новое-значение}

внутренний-главного-окна% = класс rkt:frame%
  базовый-объект()
  инициализированные-поля получатель-событий
  переопределить on-drop-file
  on-drop-file путь = получатель-событий{при-получении-файла путь}
  

главное-окно% = класс* объект% (главное-окно<%>)
  базовый-объект()
  методы родитель главное-окно минимальная-ширина минимальная-высота минимальные-размеры-вывода \
    растягивается-ширина растягивается-высота показать внутренний
  инициализировать
    $заголовок(заголовок) ""
    $ширина(ширина) ложь
    $высота(высота) ложь
    $минимальная-ширина(минимальная-ширина) ложь
    $минимальная-высота(минимальная-высота) ложь
    $растягивается-ширина(растягивается-ширина) истина
    $растягивается-высота(растягивается-высота) истина
  инициализированные-поля
    $родитель(родитель) ложь 
  $внутренний = объект внутренний-главного-окна%
    получатель-событий этот
    label $заголовок
    width $ширина
    height $высота
    min-width $минимальная-ширина
    min-height $минимальная-высота    
    stretchable-width $растягивается-ширина
    stretchable-height $растягивается-высота
  заголовок() =
    функция-выбора
      () $внутренний{get-label}
      (новое-значение) $внутренний{set-label новое-значение}
  родитель() = $родитель
  главное-окно() = этот
  внутренний() = $внутренний
  минимальная-ширина() =
    метод-выбора $внутренний min-width
  минимальная-высота() =
    метод-выбора $внутренний min-height
  ширина() = $внутренний{get-width}
  высота() = $внутренний{get-height}
  минимальные-размеры-вывода() = $внутренний{get-graphical-min-size}
  растягивается-ширина() =
    метод-выбора $внутренний stretchable-width
  растягивается-высота() =
    метод-выбора $внутренний stretchable-height
  показать состояние = $внутренний{show состояние}
  включить состояние = $внутренний{enable состояние}
  принимать-файлы() =
    метод-выбора $внутренний accept-drop-files
  окно->экран лево верх =
    $внутренний{client->screen лево верх}
  лево() = $внутренний{get-x}
  верх() = $внутренний{get-y}
  при-получении-файла путь = ложь

текстовое-поле% = класс* объект% ()
  базовый-объект()
  методы родитель главное-окно минимальная-ширина минимальная-высота минимальные-размеры-вывода \
    растягивается-ширина растягивается-высота
  инициализированные-поля
    $родитель(родитель)() 
  инициализировать
    заголовок ложь
    $минимальная-ширина(минимальная-ширина) ложь
    $минимальная-высота(минимальная-высота) ложь
    $растягивается-ширина(растягивается-ширина) истина
    $растягивается-высота(растягивается-высота) истина
  $внутренний = объект rkt:text-field%
    parent $родитель{внутренний}
    label заголовок
    min-width $минимальная-ширина
    min-height $минимальная-высота    
    stretchable-width $растягивается-ширина
    stretchable-height $растягивается-высота
  родитель() = $родитель
  главное-окно() = $родитель{главное-окно}
  внутренний() = $внутренний
  минимальная-ширина() =
    метод-выбора $внутренний min-width
  минимальная-высота() =
    метод-выбора $внутренний min-height
  минимальные-размеры-вывода() = $внутренний{get-graphical-min-size}
  растягивается-ширина() =
    метод-выбора $внутренний stretchable-width
  растягивается-высота() =
    метод-выбора $внутренний stretchable-height

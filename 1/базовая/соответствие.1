#!1
системная
используется
  с-префиксом rkt: racket/base
  с-префиксом mt: racket/match
  базовая/список
  базовая/функция
  базовая/синтаксис
  базовая/исключение
используется-для-синтаксиса
  базовая/синтаксис
  базовая/функция

предоставлять соответствие соответствие? соответствие=== соответствие===? новое-соответствие \
  новое-соответствие=== значение-соответствия установить-значение-соответствия! \
  удалить-из-соответствия! отобразить-соответствие ключи-соответствия

mt:define-match-expander соответствие
  функция (выражение)
    выбор-синтаксиса выражение ()
      (_ образец ...)
         #'(hash образец ...)
  функция (выражение)
    выбор-синтаксиса выражение ()
      (_ образец ...)
         #'(rkt:hash образец ...)
      _ #'(rkt:procedure-rename rkt:hash 'соответствие)

mt:define-match-expander соответствие===
  функция (выражение)
    выбор-синтаксиса выражение ()
      (_ образец ...)
         #'(hasheq образец ...)
  функция (выражение)
    выбор-синтаксиса выражение ()
      (_ образец ...)
         #'(rkt:hasheq образец ...)
      _ #'(rkt:procedure-rename rkt:hasheq 'соответствие===)

соответствие? объект =
  rkt:hash? объект

новое-соответствие (список-пар пустой-список) =
  rkt:make-hash список-пар

соответствие===? объект =
  rkt:hash-eqv? объект

новое-соответствие=== (список-пар пустой-список) =
  rkt:make-hasheqv список-пар

значение-соответствия соответствие ключ
  не-найден
    функция ()
      вызвать-ошибку-аргументов 'значение-соответствия "нет значения для ключа" "ключ" ключ
  =
  rkt:hash-ref соответствие ключ не-найден

установить-значение-соответствия! соответствие ключ значение =
  rkt:hash-set! соответствие ключ значение

удалить-из-соответствия! соответствие ключ =
  rkt:hash-remove! соответствие ключ

отобразить-соответствие соответствие действие упорядочить?(ложь) =
  rkt:hash-map соответствие действие упорядочить?

ключи-соответствия соответствие упорядочить?(ложь) =
  rkt:hash-keys соответствие упорядочить?

#!1
системная
используется
  с-префиксом rkt: racket/base
  базовая/строка
  базовая/список
  базовая/управление
  базовая/функция
предоставлять вызвать-ошибку вызвать-ошибку-аргумента вызвать-ошибку-аргументов

вызвать-ошибку ошибка =
  rkt:raise ошибка

вызвать-ошибку-аргумента имя ожидается значение =
  метки = rkt:current-continuation-marks()
  вызвать-ошибку
    rkt:exn:fail:contract
      rkt:format "~a: нарушение контракта\n  ожидалось: ~a\n  получено: ~a" имя ожидается значение
      метки

вызвать-ошибку-аргументов имя сообщение . ключи-значения =
  метки = rkt:current-continuation-marks()
  поле ключ значение =
    rkt:format "\n  ~a: ~a" ключ значение
  текст список (результат пустой-список) = 
    если пустой? список тогда
      применить добавить-строки $ развернуть результат
      иначе
      ключ = первый список
      список* = оставшиеся список
      значение = первый список*
      список** = оставшиеся список*
      текст список** $ поле(ключ значение) : результат
  вызвать-ошибку
    rkt:exn:fail:contract
      rkt:format "~a: ~a~a" имя сообщение $ текст ключи-значения
      метки
